"use strict";(()=>{var e={};e.id=83,e.ids=[83],e.modules={46517:e=>{e.exports=require("lodash")},59283:e=>{e.exports=require("lodash/at")},20770:e=>{e.exports=require("lodash/clone")},39131:e=>{e.exports=require("lodash/compact")},48390:e=>{e.exports=require("lodash/extend")},9368:e=>{e.exports=require("lodash/filter")},22265:e=>{e.exports=require("lodash/first")},41238:e=>{e.exports=require("lodash/includes")},35599:e=>{e.exports=require("lodash/isArray")},89699:e=>{e.exports=require("lodash/isEmpty")},25716:e=>{e.exports=require("lodash/isFunction")},27078:e=>{e.exports=require("lodash/isNumber")},75795:e=>{e.exports=require("lodash/isObject")},15452:e=>{e.exports=require("lodash/isPlainObject")},97026:e=>{e.exports=require("lodash/isString")},22133:e=>{e.exports=require("lodash/isUndefined")},83824:e=>{e.exports=require("lodash/last")},53707:e=>{e.exports=require("lodash/map")},11516:e=>{e.exports=require("lodash/take")},11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},25319:e=>{e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6113:e=>{e.exports=require("crypto")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},71017:e=>{e.exports=require("path")},63477:e=>{e.exports=require("querystring")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},49253:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>y,originalPathname:()=>w,patchFetch:()=>S,requestAsyncStorage:()=>q,routeModule:()=>x,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>v});var o={};t.r(o),t.d(o,{POST:()=>h});var a=t(95419),s=t(69108),i=t(99678),n=t(74471);t(68616);var p=t(78070);t(80424);var d=t(25142),l=t(45248),u=t(76386),c=t(66864),m=t(42053);u.v2.config({cloud_name:"dntylhu7k",secure:!0,api_key:process.env.CLOUDINARY_API_KEY,api_secret:process.env.CLOUDINARY_API_SECRET});let h=async(e,r)=>{if("POST"!==e.method)return console.log(e.method),p.Z.json({error:"Method Not Alloweddddd"});try{let r=await e.formData(),t=r.get("file"),o=r.get("id"),a=r.get("curl");if(!t)return console.log("No file uploaded"),p.Z.json({message:"No file uploaded"});let s=await t.arrayBuffer(),i=new Promise(async(e,r)=>{try{if((0,d.P)(),""!=a){let e=a.split("/"),r=e[e.length-1].slice(0,-4);u.v2.api.delete_resources([r],{type:"upload",resource_type:"image"})}let r=new Uint8Array(s),t=(await new Promise((e,t)=>{u.v2.uploader.upload_stream({resource_type:"auto"},function(r,o){if(r){t(r);return}e(o)}).end(r)})).secure_url;await l.Gw.findByIdAndUpdate(o,{comp:t}),e(t)}catch(e){throw console.log(e),Error("Falhou ao tentar colocar novos dados nova Conta Fixa pela Drop - Comprovante")}}),n=await i;return(0,c.revalidatePath)("/contas"),(0,c.revalidatePath)("/contas/pagas"),(0,c.revalidatePath)("/contas/contas_a_pagar"),(0,c.revalidatePath)("/contas/variadas"),p.Z.json(n)}catch(e){return console.error("Error processing the request :( :",e),p.Z.json({message:"Error processing the request",error:e})}};(0,m.h)([h]),(0,n.U)("c0080fa16aff047068ff414b3c03f1532c4368fd",h);let x=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/UploadComp/route",pathname:"/api/UploadComp",filename:"route",bundlePath:"app/api/UploadComp/route"},resolvedPagePath:"C:\\Users\\nicol\\OneDrive\\Documentos\\JS\\Projects\\inovdrop true\\app\\api\\UploadComp\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:q,staticGenerationAsyncStorage:g,serverHooks:f,headerHooks:y,staticGenerationBailout:v}=x,w="/api/UploadComp/route";function S(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}},45248:(e,r,t)=>{t.d(r,{Gb:()=>c,Gw:()=>l,Z0:()=>u,n5:()=>d});var o=t(11185),a=t.n(o);let s=new(a()).Schema({name:{type:String,required:!0,min:3,max:25},email:{type:String,required:!0},password:{type:String,required:!0}}),i=new(a()).Schema({name:{type:String,required:!0,min:3,max:25,default:"Nome n\xe3o adicionado"},type:{type:String,required:!0},pag:{type:Boolean,required:!0,default:!1},scd:{type:String,default:"Sem Codigo DD"},due_date:{type:Date,default:new Date(1e3,11,11)},pag_date:{type:Date,default:new Date(1e3,11,11)},total:{type:Number,min:0,default:0},bol:{},comp:{},user_id:{}},{timestamps:!0}),n=new(a()).Schema({name:{type:String,required:!0,min:3,max:25}}),p=new(a()).Schema({name:{type:String,required:!0,min:3,max:25}}),d=a().models.User||a().model("User",s),l=a().models.Contssss||a().model("Contssss",i),u=a().models.FixNames||a().model("FixNames",n),c=a().models.ForName||a().model("ForName",p)},25142:(e,r,t)=>{t.d(r,{P:()=>s});var o=t(11185),a=t.n(o);let s=async()=>{let e={};try{if(e.isConnected)return;let r=await a().connect(process.env.MONGO);e.isConnected=r.connections[0].readyState}catch(e){throw console.log(e),Error(e)}}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[893,60,446],()=>t(49253));module.exports=o})();